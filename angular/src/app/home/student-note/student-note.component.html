<p-panel header="Students">
    <p-table [value]="studentStatuses" styleClass="p-datatable-sm" sortMode="single" (onSort)="onSort()">
        <ng-template pTemplate="header">
            <tr>
                <th>Date</th>
                <th>Teacher</th>
                <th>Course</th>
                <th>Attitude</th>
                <th>Receptive ability</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-row let-rowIndex="rowIndex">
            <tr *ngIf="rowGroupMetadata[row.student.id].index === rowIndex">
                <td colspan="5">   
                    <i class="fas fa-user-tag"></i>                 
                    <span class="text-bold p-ml-2 padding-left-5">{{row.student.fullName}}</span>
                    <button pButton pRipple type="button" icon="pi pi-mobile" class="p-button-rounded p-button-text" (click)="setSelected(row.student)"></button>
                    <button pButton pRipple type="button" icon="pi pi-inbox" class="p-button-rounded p-button-success p-button-text"></button>
                    <button pButton pRipple type="button" icon="pi pi-file-o" class="p-button-rounded p-button-danger p-button-text"></button>
                </td>
            </tr>
            <tr>
                <td>
                    {{row.fromDate | date:'dd-MM-yyyy'}}
                </td>
                <td>
                    {{row.teacher.fullName}}
                </td>
                <td>
                    
                </td>
                <td>
                    <span [class]="'customer-badge attitude-' + row.attitude">{{ getTextByValue(attitudes,row.attitude) }}</span>
                </td>
                <td>
                    <span [class]="'customer-badge attitude-' + row.receptiveAbility">{{ getTextByValue(attitudes,row.receptiveAbility) }}</span>
                </td>
            </tr>
        </ng-template>
    </p-table>
</p-panel>

<p-dialog header="Protector information" [(visible)]="display" [position]="position" [draggable]="false" [resizable]="false">
    <div *ngIf="student && student.protector">
        <p><span class="text-bold">Name:</span> {{student.protector.fullName}}</p>
        <p><span class="text-bold">Phone number:</span> {{student.protector.phoneNumber}}</p>
        <p><span class="text-bold">Email:</span> {{student.protector.email}}</p>
    </div>   
    <ng-template pTemplate="footer">
        <p-button icon="pi pi-check" (click)="display=false" label="Ok" styleClass="p-button-text"></p-button>
    </ng-template>
</p-dialog>
  