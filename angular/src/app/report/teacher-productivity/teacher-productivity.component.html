<div >
    <section class="content-header">
      <div class="container-fluid">
        <div class="form-group row">
            <div class="col-2">
                <p-dropdown [options]="reportTypes" [style]="{'width':'100%'}" [(ngModel)]="selectedReportType" optionLabel="name" optionValue="value"></p-dropdown>
            </div>
            <div class="col-2">
                <input class="form-control" 
                    type="date" 
                    name="startDate" 
                    style="height: 42px;"
                    [(ngModel)]="startDate" 
                />
            </div>
            <div class="col-2">                
                <input class="form-control" 
                    type="date" 
                    name="startDate" 
                    style="height: 42px;"
                    [(ngModel)]="endDate" 
                />
            </div>
            <div class="col-5">
                <p-dropdown [options]="teachers" autoWidth="false" [style]="{'width':'100%'}" name="teachers" [(ngModel)]="teacher" optionLabel="fullName" [filter]="true" filterBy="fullName" [showClear]="true" placeholder="Select a teacher">          
                </p-dropdown>
            </div>
            <div class="col-1 text-right">
                <button pButton label="Report" (click)="searchData()"></button>
            </div>
        </div>
      </div>
    </section>
    <section class="content px-2">
      <div class="container-fluid">
        <div class="card">      
            <div class="row">
                <div class="col-6">
                  
                </div>        
                <div class="col-6 text-right">
                  <button pButton pRipple label="Export" icon="pi pi-upload" class="p-button-help"></button>
                </div>  
            </div>

            <div class="card-body table-responsive p-0" *ngIf="teacherProductivities">
                <p-table [value]="teacherProductivities" [lazy]="true" (onLazyLoad)="loadProductivities($event)"
                    [paginator]="true" [rows]="rows" [totalRecords]="totalRecords" [loading]="loading">    
                        <ng-template pTemplate="header">
                            <tr>
                                <th style="width: 200px;">Start date</th>
                                <th style="width: 200px;">End date</th>
                                <th style="width: 100px;">Room</th>
                                <th style="width: 100px;">Hour</th>
                                <th>Course</th>
                                <th>Subject</th>
                                <th>Fee</th>
                                <th>Paid</th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-productivity>
                            <tr>
                                <td>{{productivity.startDate | date:'dd-MM-yyyy hh:mm a' }}</td>
                                <td>{{productivity.endDate | date:'dd-MM-yyyy hh:mm a' }}</td>
                                <td>{{productivity.roomName}}</td>
                                <td>{{productivity.hour}}</td>
                                <td>{{productivity.courseName}}</td>
                                <td>{{productivity.subjectName}}</td>                                
                                <td>{{productivity.fee | currency: 'VND'}}</td>
                                <td>{{productivity.paid | currency: 'VND'}}</td>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="footer">
                            <tr>
                                <td colspan="4" class="text-right">Total hours <span class="badge badge-success">{{totalHour}}</span></td>
                                <td colspan="3" class="text-right">Total <span class="badge badge-success">{{total | currency: 'VND'}}</span></td>
                                <td>Un-paid <span class="badge badge-danger">{{unpaid | currency: 'VND'}}</span></td>
                            </tr>
                        </ng-template>
                    </p-table>
                </div>
            </div>
      </div>
    </section>
</div>
  